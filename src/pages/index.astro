---
import Layout from "~/layouts/Layout.astro";
import JcbdkcLogo from "~/components/JcbdkcLogo.astro";

import { Image } from "astro:assets";
import pfpImage from "~/assets/pfp.png";

import EnvelopeOpenIcon from "phosphor-icons-svelte/IconEnvelopeOpenRegular.svelte";
import PaperPlaneRightIcon from "phosphor-icons-svelte/IconPaperPlaneRightRegular.svelte";

import OpenMarchLogo from "~/assets/OpenMarch.svg";
import SlateLogo from "~/assets/Slate.svg";
---

<Layout title="Home">
    <main
        class="grid grid-cols-3 max-[1280px]:grid-cols-2 max-[800px]:grid-cols-1 grid-rows-2 gap-8 w-full"
    >
        <div class="flex flex-col gap-8">
            <JcbdkcLogo size="lg" class="w-full h-auto" />
            <h3 class="text-title-3">
                I’m Jacob, a creative designer and developer.
            </h3>
            <div
                class="w-full h-auto aspect-4/3 rounded-32"
                style="--angle: 180deg; background-image: conic-gradient(from var(--angle) in srgb, var(--color-pareen), var(--color-bg), var(--color-pareen));"
                data-follow-conic
            >
            </div>
        </div>

        <div class="rounded-32 bg-rust flex items-start justiy-start p-24">
            <div
                class="rounded-8 bg-bg-window shadow-lg flex p-16 gap-12 flex-col border border-stroke"
            >
                <div class="flex items-center gap-12">
                    <SlateLogo />
                    <h1 class="text-title-1 text-text">Slate</h1>
                </div>
                <div class="flex gap-8">
                    <h3 class="text-title-3 text-text">
                        Founder, Designer & Dev
                    </h3>
                    <h3 class="text-title-3 text-text-2">2024-Present</h3>
                </div>
            </div>
        </div>

        <div class="rounded-32 bg-pareen flex items-start justiy-start p-24">
            <div
                class="rounded-8 bg-bg-window shadow-lg flex p-16 gap-12 flex-col border border-stroke"
            >
                <div class="flex items-center gap-12">
                    <OpenMarchLogo />
                    <h1 class="text-title-1 text-text">OpenMarch</h1>
                </div>
                <div class="flex gap-8">
                    <h3 class="text-title-3 text-text">
                        UI Designer & Front-end
                    </h3>
                    <h3 class="text-title-3 text-text-2">2024-Present</h3>
                </div>
            </div>
        </div>

        <div class="flex flex-col gap-8">
            <div class="flex gap-8 items-center">
                <Image
                    src={pfpImage}
                    alt="Profile Picture"
                    width={128}
                    height={128}
                    class="size-72 rounded-16"
                />
                <h1 class="text-large-title max-[950px]:text-title-1">
                    about my person
                </h1>
            </div>
            <div
                class="rounded-32 bg-fg-base border border-stroke flex p-24 gap-24 flex-col"
            >
                <div class="flex flex-col gap-12">
                    <h3 class="text-title-3">summary</h3>
                    <p class="text-body leading-relaxed">
                        I’m Jacob, a creative user interface designer and
                        front-end developer. I put lots of care into special,
                        unique design and performance because both of those
                        factors make up great user experience. Design,
                        performance and ease of use are of top priority.
                    </p>
                </div>
                <div class="flex flex-col gap-12">
                    <h3 class="text-title-3">fun facts</h3>
                    <p class="text-body leading-relaxed">
                        I love music, mainly drum corps/marching arts,
                        alternative electronic, and classical/jazz. I’m a
                        trombone player. I’m a Royal Canadian Sea Cadet.
                        Obsessed with operating systems and city design,
                        basically how everything works behind the scenes.
                    </p>
                </div>
            </div>
        </div>

        <div class="flex flex-col gap-8">
            <h1 class="text-large-title max-[950px]:text-title-1">
                methods to inquire of me
            </h1>
            <div
                class="rounded-32 bg-fg-base border border-stroke flex p-24 gap-8 flex-col"
            >
                <EnvelopeOpenIcon class="size-48 text-text" />
                <h1 class="text-title-1">Electronic Mail</h1>
                <div class="flex gap-8">
                    <p class="text-title-3 text-text-2">Address</p>
                    <a
                        href="mailto:hello@dukc.dev"
                        class="text-title-3 font-mono hover:underline"
                    >
                        hello@dukc.dev
                    </a>
                </div>
            </div>

            <div
                class="rounded-32 bg-fg-base border border-stroke flex p-24 gap-8 flex-col"
            >
                <PaperPlaneRightIcon class="size-48 text-text" />
                <h1 class="text-title-1">Direct Message</h1>
                <div class="flex gap-12">
                    <div class="flex gap-8">
                        <p class="text-title-3 text-text-2">Discord</p>
                        <button
                            type="button"
                            class="text-title-3 font-mono hover:underline focus:outline-none"
                            data-copy-handle="@dukkcc"
                            aria-label="Copy Discord handle"
                        >
                            @dukkcc
                        </button>
                    </div>
                    <div class="flex gap-8">
                        <p class="text-title-3 text-text-2">Instagram</p>
                        <a
                            href="https://www.instagram.com/dukkcc0/"
                            class="text-title-3 font-mono hover:underline"
                        >
                            @dukkcc0
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const conic = document.querySelector("[data-follow-conic]");
        if (conic) {
            window.addEventListener("pointermove", (event) => {
                const rect = conic.getBoundingClientRect();
                const x = event.clientX - (rect.left + rect.width / 2);
                const y = event.clientY - (rect.top + rect.height / 2);
                const angle = Math.atan2(y, x) * (180 / Math.PI) - 90;

                (conic as HTMLElement).style.setProperty(
                    "--angle",
                    `${angle}deg`,
                );
            });
        }

        const handleCopyButton =
            document.querySelector<HTMLButtonElement>("[data-copy-handle]");

        if (handleCopyButton) {
            handleCopyButton.addEventListener("click", async () => {
                const value =
                    handleCopyButton.dataset.copyHandle ||
                    handleCopyButton.textContent?.trim();

                if (!value) {
                    return;
                }

                try {
                    await navigator.clipboard.writeText(value);
                    const originalText = handleCopyButton.textContent;
                    handleCopyButton.textContent = "Copied!";
                    setTimeout(() => {
                        handleCopyButton.textContent = originalText;
                    }, 1500);
                } catch (error) {
                    console.error("Failed to copy handle", error);
                }
            });
        }
    </script>
</Layout>
